# PR: v1.1.2 패치 구현 (주어구 힌트 및 NLP 분석 개선)

## 1. 주요 변경 사항
- [x] **주어구 힌트 로직 수정**: 기초 모드에서 주어 힌트를 핵심 단어에서 전체 구(Span)로 확대
- [x] **시작화면 모드 표시**: 현재 설정된 채점 모드(기초/심화)를 시작화면에 배지로 표시
- [x] **모드별 NLP 원칙 적용**: 기초 모드는 문장당 1개, 심화 모드는 다수의 뿌리동사/주어 허용
- [x] **NLP 분석 범위 확장**: `ccomp`, `advcl` 등을 뿌리동사로 인식하고 관계절(`relcl`) 주어구 정밀 분리
- [x] **오류 리포트 체계**: NLP 분석 실패 시 `sqlite` 로그와 별도로 파일 로그(`nlp_errors.log`) 기록 추가
- [x] **안내 메시지 수정**: 퀴즈 화면 모드 배지 클릭 시 표시되는 토스트 메시지를 원칙에 맞게 수정

## 2. 검증 결과
- [x] **npm run dev / uvicorn 실행 확인**: 로컬 환경 Health Check 완료
- [x] **Pytest 자동화 테스트**: 관계절/부사절 및 모드별 필터링 테스트 5종 전원 통과
- [x] **브라우저 수동 검증**: "Some fans dislike it because it stops the game." 문장으로 모드별 동작 차이 확인 완료

## 3. Review Point
- `analyzer.py`에서 `mode` 값에 따라 `roots`를 필터링하는 로직이 의도대로 1개(CORE) 혹은 다수(FULL)를 반환하는지 확인 부탁드립니다.
- `QuizScreen.jsx`에서 `subjectSpanTokens`를 사용하여 힌트 밑줄을 렌더링하는 부분이 자연스러운지 검토 바랍니다.
